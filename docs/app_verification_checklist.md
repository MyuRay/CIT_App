# アプリ確認事項チェックリスト

## 📱 実装済み機能の確認

### 1. 今日の時間割ウィジェット（Android）

#### ウィジェットの追加
- [ ] Androidホーム画面でウィジェットを追加できるか確認
  - ホーム画面長押し → ウィジェット → 「CIT App」→ 「今日の時間割」を選択
- [ ] ウィジェットが正しく表示されるか確認
  - 曜日と日付が表示される
  - 今日の授業が最大5件まで表示される
  - 授業がない場合は「授業がありません」などのメッセージが表示される

#### ウィジェットの表示内容
- [ ] 各授業項目に以下が表示されるか確認
  - 時限（例: 1限、2限）
  - 科目名
  - 教室名（あれば）
  - 時間（開始時間-終了時間）
  - 色分けされたドット（科目の色）
- [ ] 現在の時限がハイライト表示されるか確認（背景色が変わる）

#### ウィジェットの動作
- [ ] ウィジェットをタップしてアプリが起動するか確認
- [ ] アプリ起動時に時間割画面が開くか確認
- [ ] 時間割データが更新されたときにウィジェットも更新されるか確認

---

### 2. My食堂機能

#### 画面へのアクセス
- [ ] ホーム画面の「My食堂」ボタンから画面に遷移できるか確認
- [ ] 画面タイトルが「My食堂」と表示されるか確認
- [ ] タブが2つ表示されるか確認（「自分のレビュー」「お気に入り」）

#### 「自分のレビュー」タブ
- [ ] ログインしている場合、自分のレビュー一覧が表示されるか確認
- [ ] レビューがない場合、「まだレビューがありません」と表示されるか確認
- [ ] 各レビューカードに以下が表示されるか確認
  - 食堂名（バッジ表示）
  - メニュー名
  - 投稿日時
  - コメント（あれば）
  - 評価（美味しさ、量、おすすめ）
- [ ] レビューが作成日時の降順で並んでいるか確認

#### 「お気に入り」タブ
- [ ] お気に入りがない場合、「お気に入りが登録されていません」と表示されるか確認
- [ ] お気に入り食堂セクションが表示されるか確認（お気に入り食堂がある場合）
  - 食堂名が正しく表示される
  - アイコン（レストランアイコン）が表示される
- [ ] お気に入りメニューセクションが表示されるか確認（お気に入りメニューがある場合）
  - メニュー名が正しく表示される
  - 食堂名がサブタイトルとして表示される
  - アイコン（ラーメンアイコン）が表示される
- [ ] お気に入りが作成日時の降順で並んでいるか確認

---

### 3. 学食レビュー機能の強化

#### いいね機能
- [ ] レビューカードにいいねボタンが表示されるか確認
- [ ] いいね数が表示されるか確認
- [ ] いいねボタンをタップしていいねが追加されるか確認
  - ボタンのアイコンが変わる（`favorite_border` → `favorite`）
  - いいね数が1増える
- [ ] 再度タップしていいねが解除されるか確認
  - ボタンのアイコンが変わる（`favorite` → `favorite_border`）
  - いいね数が1減る
- [ ] ログインしていない場合、いいねボタンが無効化されるか確認
- [ ] 複数のレビューでいいね機能が正しく動作するか確認

#### 画像拡大機能（Lightbox）
- [ ] メニュー画像をタップして拡大表示できるか確認
- [ ] 拡大画像で以下が動作するか確認
  - ピンチでズームイン/アウト
  - ダブルタップでズームイン/アウト
  - タップまたは下にスワイプで閉じる
  - 背景が暗くなる
- [ ] Heroアニメーションが正しく動作するか確認（画像がスムーズに拡大/縮小）

---

### 4. その他の確認事項

#### アプリの基本動作
- [ ] アプリが正常に起動するか確認
- [ ] ログイン機能が正常に動作するか確認
- [ ] ホーム画面が正しく表示されるか確認
- [ ] ナビゲーションが正常に動作するか確認

#### エラーハンドリング
- [ ] ネットワークエラー時に適切なメッセージが表示されるか確認
- [ ] Firestoreの読み込みエラー時に適切なメッセージが表示されるか確認
- [ ] ログインしていない状態で保護された機能にアクセスした場合、適切なメッセージが表示されるか確認

---

## ⚠️ 未実装機能（確認不要）

以下の機能はまだ実装されていません：

1. **お気に入り追加ボタン**
   - メニューカードやレビュー画面にお気に入りボタンが表示されていない
   - お気に入りに追加するUIが未実装

2. **1週間の時間割ウィジェット**
   - UI改善や機能追加は不要とのこと（既存の`updateWeeklyFullSchedule()`は動作している）

3. **バスダイヤウィジェット**
   - UI改善や機能追加は不要とのこと（既存の`updateBusRealtime()`は動作している）

---

## 📝 確認時の注意事項

1. **テスト環境**
   - Androidエミュレータで動作確認
   - ログイン状態で確認
   - 複数のレビューやお気に入りデータがある状態で確認

2. **データ準備**
   - レビューを投稿して「自分のレビュー」タブにデータがある状態で確認
   - お気に入りを追加して「お気に入り」タブにデータがある状態で確認
   - （お気に入り追加UIが未実装のため、Firestoreに直接データを追加する必要がある可能性）

3. **ウィジェット確認**
   - Androidホーム画面にウィジェットを追加して確認
   - 時間割データが更新されたときにウィジェットも更新されるか確認

---

## 🔍 問題が見つかった場合

問題が見つかった場合は、以下を記録してください：

1. **問題の内容**
   - どの機能で問題が発生したか
   - 期待される動作と実際の動作の違い

2. **再現手順**
   - 問題を再現するための手順

3. **環境情報**
   - デバイス/エミュレータの情報
   - Androidバージョン
   - アプリのバージョン

4. **エラーメッセージ**
   - エラーメッセージやログがあれば記録
